{
  "$schema": "../../../../schema/platform-v2.schema.json",
  "schemaVersion": "2.0.0",
  "platform": "rp2040",
  "family": "rp2",
  "name": "RP2040 Series",
  "description": "Raspberry Pi RP2040 dual-core Cortex-M0+ with PIO",
  "architecture": "cortex-m0+",
  "version": "2.0.0",

  "sources": {
    "cmsis": {
      "repo": "github:raspberrypi/pico-sdk",
      "ref": "master",
      "paths": {
        "headers": "src/rp2040/hardware_regs/include/hardware/regs",
        "startup": "src/rp2_common/pico_crt0",
        "linker": "src/rp2_common/pico_standard_link",
        "system": "src/rp2_common/pico_runtime/runtime.c"
      },
      "files": {
        "headers": [
          "addressmap.h",
          "resets.h",
          "clocks.h",
          "io_bank0.h",
          "pads_bank0.h",
          "sio.h",
          "xosc.h",
          "pll.h",
          "uart.h",
          "timer.h"
        ]
      }
    },
    "cmsis_core": {
      "repo": "github:ARM-software/CMSIS_5",
      "ref": "develop",
      "paths": {
        "headers": "CMSIS/Core/Include"
      },
      "files": {
        "headers": [
          "cmsis_compiler.h",
          "cmsis_gcc.h",
          "cmsis_version.h",
          "core_cm0plus.h"
        ]
      }
    },
    "pico_headers": {
      "repo": "github:raspberrypi/pico-sdk",
      "ref": "master",
      "paths": {
        "headers": "src/rp2_common/hardware_base/include/hardware"
      },
      "files": {
        "headers": [
          "address_mapped.h"
        ]
      }
    }
  },

  "devices": [
    {
      "id": "rp2040",
      "name": "RP2040",
      "flash": 2097152,
      "ram": 270336,
      "frequency": 133000000,
      "defines": ["RP2040", "PICO_BUILD", "PICO_ON_DEVICE"],
      "fpu": "none",
      "files": {
        "startup": "crt0.S",
        "linker": "memmap_default.ld"
      }
    }
  ],

  "build": {
    "compilerFlags": [
      "--target=thumbv6m-none-eabi",
      "-mcpu=cortex-m0plus",
      "-mthumb",
      "-mfloat-abi=soft",
      "-nostdlib",
      "-ffreestanding",
      "-ffunction-sections",
      "-fdata-sections"
    ],
    "linkerFlags": [
      "--gc-sections"
    ],
    "defines": [
      "PICO_BUILD"
    ]
  },

  "frameworks": {
    "arduino": {
      "core": "arduino-pico",
      "coreUrl": "https://github.com/earlephilhower/arduino-pico",
      "packageIndex": "https://github.com/earlephilhower/arduino-pico/releases/download/global/package_rp2040_index.json"
    },
    "native": {
      "sdk": "pico-sdk",
      "sdkVersion": "1.5.1"
    }
  }
}
