{
  "$schema": "../../../../schema/platform-v2.schema.json",
  "schemaVersion": "2.0.0",
  "platform": "nrf",
  "family": "nrf52",
  "name": "Nordic nRF52 Series",
  "description": "Nordic Semiconductor nRF52 Bluetooth Low Energy SoCs",
  "architecture": "cortex-m4f",
  "version": "2.0.0",

  "sources": {
    "cmsis": {
      "repo": "github:NordicSemiconductor/nrfx",
      "ref": "master",
      "paths": {
        "headers": "mdk",
        "startup": "mdk",
        "system": "mdk"
      },
      "files": {
        "headers": [
          "nrf.h",
          "nrf52.h",
          "nrf52832.h",
          "nrf52832_peripherals.h",
          "nrf52840.h",
          "nrf52840_peripherals.h",
          "nrf52_bitfields.h",
          "nrf52840_bitfields.h",
          "system_nrf52.h",
          "system_nrf52840.h"
        ],
        "system": [
          "system_nrf52.c",
          "system_nrf52840.c"
        ]
      }
    },
    "cmsis_core": {
      "repo": "github:ARM-software/CMSIS_5",
      "ref": "develop",
      "paths": {
        "headers": "CMSIS/Core/Include"
      },
      "files": {
        "headers": [
          "cmsis_compiler.h",
          "cmsis_gcc.h",
          "cmsis_version.h",
          "core_cm4.h"
        ]
      }
    }
  },

  "devices": [
    {
      "id": "nrf52832",
      "name": "nRF52832",
      "flash": 524288,
      "ram": 65536,
      "frequency": 64000000,
      "defines": ["NRF52832_XXAA", "NRF52_SERIES", "NRF52"],
      "fpu": "fpv4-sp-d16",
      "files": {
        "startup": "gcc_startup_nrf52.S",
        "linker": "nrf52832_xxaa.ld",
        "header": "nrf52832.h",
        "system": "system_nrf52.c"
      }
    },
    {
      "id": "nrf52840",
      "name": "nRF52840",
      "flash": 1048576,
      "ram": 262144,
      "frequency": 64000000,
      "defines": ["NRF52840_XXAA", "NRF52_SERIES", "NRF52840"],
      "fpu": "fpv4-sp-d16",
      "files": {
        "startup": "gcc_startup_nrf52840.S",
        "linker": "nrf52840_xxaa.ld",
        "header": "nrf52840.h",
        "system": "system_nrf52840.c"
      }
    }
  ],

  "softdevices": [
    {
      "id": "s132",
      "name": "S132 SoftDevice",
      "version": "7.3.0",
      "devices": ["nrf52832"],
      "flashUsed": 155648,
      "ramUsed": 5632,
      "linkerScript": "nrf52832_s132.ld"
    },
    {
      "id": "s140",
      "name": "S140 SoftDevice",
      "version": "6.1.1",
      "devices": ["nrf52840"],
      "flashUsed": 155648,
      "ramUsed": 5632,
      "linkerScript": "nrf52840_s140.ld"
    }
  ],

  "build": {
    "compilerFlags": [
      "--target=thumbv7em-none-eabihf",
      "-mcpu=cortex-m4",
      "-mthumb",
      "-mfloat-abi=hard",
      "-mfpu=fpv4-sp-d16",
      "-nostdlib",
      "-ffreestanding",
      "-ffunction-sections",
      "-fdata-sections"
    ],
    "linkerFlags": [
      "--gc-sections"
    ],
    "defines": [
      "NRF52_SERIES"
    ]
  },

  "frameworks": {
    "arduino": {
      "core": "adafruit-nrf52",
      "coreUrl": "https://github.com/adafruit/Adafruit_nRF52_Arduino",
      "packageIndex": "https://adafruit.github.io/arduino-board-index/package_adafruit_index.json"
    },
    "zephyr": {
      "board": "nrf52840dk_nrf52840"
    },
    "native": {
      "sdk": "nrf5_sdk",
      "sdkVersion": "17.1.0"
    }
  }
}
